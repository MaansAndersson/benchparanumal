%% AMD RADEON VII%% %% DP flops per bytearith = linspace(0,16,100);%% clinfo%%%% gpu charstheoBW = 1000measBW = 800; %% guessNcores = 60;Nbanks = 16;maxClock = 1.8;smemBW = Ncores*Nbanks*4*maxClock; % guess #cores x #simd x |word| x clock (non-boost)maxGF = 3460;%% plotarith0 = [arith,arith(end)];arith1 = [arith,0];fill(arith0, min(theoBW*arith1,maxGF), [0.8,0.8,0.8]);hold onorange = [255,165,0]/255;purple = [160,32,240]/255;gold   = [255,215,0]/255;lev16 = min(maxGF,min(measBW*arith1,smemBW/16));lev08 = min(maxGF,min(measBW*arith1,smemBW/8));lev04 = min(maxGF,min(measBW*arith1,smemBW/4));lev02 = min(maxGF,min(measBW*arith1,smemBW/2));lev01 = min(maxGF,min(measBW*arith1,smemBW/1));fill(arith0, lev01, gold);fill(arith0, lev02, 'g');fill(arith0, lev02, [0,1,0]);fill(arith0, lev04, orange);fill(arith0, lev08, [1,0,0]);fill(arith0, lev16, purple);plot(arith, lev01(1:end-1), 'k--', 'linewidth', 2)plot(arith, lev02(1:end-1), 'k-', 'linewidth', 2)plot(arith, lev04(1:end-1), 'k-', 'linewidth', 2)plot(arith, lev08(1:end-1), 'k-', 'linewidth', 2)plot(arith, lev16(1:end-1), 'k-', 'linewidth', 2)hold offxlabel('Arithmetic Intensity (FLOPS/BYTE)', 'fontsize', 16)ylabel('GFLOPS/s', 'fontsize', 16);%axis tight%grid ontext(12, 0.5*lev16(end-1), '16 \leq (SH+L1 BYTES/FLOPS', 'FontSize', 12)text(12, 0.5*(lev16(end-1)+lev08(end-1)), ' 8 \leq (SH+L1 BYTES)/FLOPS \leq 16', 'FontSize', 12)text(12, 0.5*(lev08(end-1)+lev04(end-1)), ' 4 \leq (SH+L1 BYTES)/FLOPS \leq 8', 'FontSize', 12)text(12, 0.5*(lev04(end-1)+lev02(end-1)), ' 2 \leq (SH+L1 BYTES)/FLOPS \leq 4', 'FontSize', 12)%text(12, 0.5*(lev02(end-1)+lev01(end-1)), '        (SH+L1 BYTES)/FLOPS \leq 2', 'FontSize', 12)axis([0 18 0 8000])pause(.05);print('-dpng', 'rooflinesTitanV.png')print('-dpdf', 'rooflinesTitanV.pdf')